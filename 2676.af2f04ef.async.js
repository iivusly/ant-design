"use strict";(self.webpackChunkantd=self.webpackChunkantd||[]).push([[2676],{33413:function(On,fn,f){var Oe=f(487462),Z=f(204942),I=f(297685),R=f(912402),B=f(667294),hn=f(294184),t=f.n(hn),Re=f(821770),le=f(915105),gn=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],me=B.forwardRef(function(S,mn){var ie,He=S.prefixCls,_=He===void 0?"rc-switch":He,pn=S.className,We=S.checked,yn=S.defaultChecked,pe=S.disabled,ye=S.loadingIcon,Cn=S.checkedChildren,$e=S.unCheckedChildren,Ce=S.onClick,Ee=S.onChange,oe=S.onKeyDown,En=(0,R.Z)(S,gn),Sn=(0,Re.default)(!1,{value:We,defaultValue:yn}),ue=(0,I.Z)(Sn,2),X=ue[0],Se=ue[1];function j(K,de){var G=X;return pe||(G=K,Se(G),Ee==null||Ee(G,de)),G}function Fe(K){K.which===le.Z.LEFT?j(!1,K):K.which===le.Z.RIGHT&&j(!0,K),oe==null||oe(K)}function kn(K){var de=j(!X,K);Ce==null||Ce(de,K)}var ce=t()(_,pn,(ie={},(0,Z.Z)(ie,"".concat(_,"-checked"),X),(0,Z.Z)(ie,"".concat(_,"-disabled"),pe),ie));return B.createElement("button",(0,Oe.Z)({},En,{type:"button",role:"switch","aria-checked":X,disabled:pe,className:ce,ref:mn,onKeyDown:Fe,onClick:kn}),ye,B.createElement("span",{className:"".concat(_,"-inner")},B.createElement("span",{className:"".concat(_,"-inner-checked")},Cn),B.createElement("span",{className:"".concat(_,"-inner-unchecked")},$e)))});me.displayName="Switch",fn.Z=me},79841:function(On,fn,f){f.d(fn,{Qw:function(){return X},FJ:function(){return j},hT:function(){return Se},OF:function(){return ue},ZP:function(){return zn}});var Oe=f(487462),Z=f(974902),I=f(601413),R=f(297685),B=f(912402),hn=f(671002),t=f(667294),Re=f(388905),le=f(517341),gn=f(88708),me=f(821770),S=f(915105),mn=f(456982),ie=f(125530),He=t.createContext(null),_=He,pn=t.createContext(null),We=pn;function yn(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function pe(e){var n=e||{},r=n.label,u=n.value,a=n.children,i=u||"value";return{_title:r?[r]:["title","label"],value:i,key:i,children:a||"children"}}function ye(e){return!e||e.disabled||e.disableCheckbox||e.checkable===!1}function Cn(e,n){var r=[];function u(a){a.forEach(function(i){var l=i[n.children];l&&(r.push(i[n.value]),u(l))})}return u(e),r}function $e(e){return e==null}var Ce={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ee=function(n,r){var u=(0,Re.lk)(),a=u.prefixCls,i=u.multiple,l=u.searchValue,o=u.toggleOpen,c=u.open,s=u.notFoundContent,h=t.useContext(We),M=h.virtual,T=h.listHeight,k=h.listItemHeight,V=h.treeData,P=h.fieldNames,H=h.onSelect,J=h.dropdownMatchSelectWidth,q=h.treeExpandAction,p=t.useContext(_),w=p.checkable,A=p.checkedKeys,be=p.halfCheckedKeys,U=p.treeExpandedKeys,bn=p.treeDefaultExpandAll,_e=p.treeDefaultExpandedKeys,Ue=p.onTreeExpand,Dn=p.treeIcon,xn=p.showTreeIcon,Be=p.switcherIcon,je=p.treeLine,Ge=p.treeNodeFilterProp,Je=p.loadData,De=p.treeLoadedKeys,Ye=p.treeMotion,Qe=p.onTreeLoad,ze=p.keyEntities,ee=t.useRef(),xe=(0,mn.Z)(function(){return V},[c,V],function(g,D){return D[0]&&g[1]!==D[1]}),Xe=t.useMemo(function(){return w?{checked:A,halfChecked:be}:null},[w,A,be]);t.useEffect(function(){if(c&&!i&&A.length){var g;(g=ee.current)===null||g===void 0||g.scrollTo({key:A[0]})}},[c]);var Ie=String(l).toLowerCase(),qe=function(D){return Ie?String(D[Ge]).toLowerCase().includes(Ie):!1},Te=t.useState(_e),Le=(0,R.Z)(Te,2),se=Le[0],en=Le[1],nn=t.useState(null),Ke=(0,R.Z)(nn,2),Me=Ke[0],Pe=Ke[1],tn=t.useMemo(function(){return U?(0,Z.Z)(U):l?Me:se},[se,Me,U,l]);t.useEffect(function(){l&&Pe(Cn(V,P))},[l]);var In=function(D){en(D),Pe(D),Ue&&Ue(D)},ne=function(D){D.preventDefault()},Y=function(D,te){var $=te.node;w&&ye($)||(H($.key,{selected:!A.includes($.key)}),i||o(!1))},rn=t.useState(null),W=(0,R.Z)(rn,2),we=W[0],an=W[1],O=ze[we];if(t.useImperativeHandle(r,function(){var g;return{scrollTo:(g=ee.current)===null||g===void 0?void 0:g.scrollTo,onKeyDown:function(te){var $,ln=te.which;switch(ln){case S.Z.UP:case S.Z.DOWN:case S.Z.LEFT:case S.Z.RIGHT:($=ee.current)===null||$===void 0||$.onKeyDown(te);break;case S.Z.ENTER:{if(O){var on=(O==null?void 0:O.node)||{},ve=on.selectable,un=on.value;ve!==!1&&Y(null,{node:{key:we},selected:!A.includes(un)})}break}case S.Z.ESC:o(!1)}},onKeyUp:function(){}}}),xe.length===0)return t.createElement("div",{role:"listbox",className:"".concat(a,"-empty"),onMouseDown:ne},s);var Ne={fieldNames:P};return De&&(Ne.loadedKeys=De),tn&&(Ne.expandedKeys=tn),t.createElement("div",{onMouseDown:ne},O&&c&&t.createElement("span",{style:Ce,"aria-live":"assertive"},O.node.value),t.createElement(ie.Z,(0,Oe.Z)({ref:ee,focusable:!1,prefixCls:"".concat(a,"-tree"),treeData:xe,height:T,itemHeight:k,virtual:M!==!1&&J!==!1,multiple:i,icon:Dn,showIcon:xn,switcherIcon:Be,showLine:je,loadData:l?null:Je,motion:Ye,activeKey:we,checkable:w,checkStrictly:!0,checkedKeys:Xe,selectedKeys:w?[]:A,defaultExpandAll:bn},Ne,{onActiveChange:an,onSelect:Y,onCheck:Y,onExpand:In,onLoad:Qe,filterTreeNode:qe,expandAction:q})))},oe=t.forwardRef(Ee);oe.displayName="OptionList";var En=oe,Sn=function(){return null},ue=Sn,X="SHOW_ALL",Se="SHOW_PARENT",j="SHOW_CHILD";function Fe(e,n,r,u){var a=new Set(e);return n===j?e.filter(function(i){var l=r[i];return!(l&&l.children&&l.children.some(function(o){var c=o.node;return a.has(c[u.value])})&&l.children.every(function(o){var c=o.node;return ye(c)||a.has(c[u.value])}))}):n===Se?e.filter(function(i){var l=r[i],o=l?l.parent:null;return!(o&&!ye(o.node)&&a.has(o.key))}):e}var kn=f(850344),ce=f(580334),K=["children","value"];function de(e){return(0,kn.Z)(e).map(function(n){if(!t.isValidElement(n)||!n.type)return null;var r=n,u=r.key,a=r.props,i=a.children,l=a.value,o=(0,B.Z)(a,K),c=(0,I.Z)({key:u,value:l},o),s=de(i);return s.length&&(c.children=s),c}).filter(function(n){return n})}function G(e){if(!e)return e;var n=(0,I.Z)({},e);return"props"in n||Object.defineProperty(n,"props",{get:function(){return(0,ce.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),n}}),n}function Rn(e,n,r,u,a,i){var l=null,o=null;function c(){function s(h){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return h.map(function(k,V){var P="".concat(M,"-").concat(V),H=k[i.value],J=r.includes(H),q=s(k[i.children]||[],P,J),p=t.createElement(ue,k,q.map(function(A){return A.node}));if(n===H&&(l=p),J){var w={pos:P,node:p,children:q};return T||o.push(w),w}return null}).filter(function(k){return k})}o||(o=[],s(u),o.sort(function(h,M){var T=h.node.props.value,k=M.node.props.value,V=r.indexOf(T),P=r.indexOf(k);return V-P}))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,ce.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),l}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,ce.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),a?o:o.map(function(h){var M=h.node;return M})}})}function Hn(e,n){var r=n.id,u=n.pId,a=n.rootPId,i={},l=[],o=e.map(function(c){var s=(0,I.Z)({},c),h=s[r];return i[h]=s,s.key=s.key||h,s});return o.forEach(function(c){var s=c[u],h=i[s];h&&(h.children=h.children||[],h.children.push(c)),(s===a||!h&&a===null)&&l.push(c)}),l}function Wn(e,n,r){return t.useMemo(function(){return e?r?Hn(e,(0,I.Z)({id:"id",pId:"pId",rootPId:null},r!==!0?r:{})):e:de(n)},[n,r,e])}var $n=function(e){var n=t.useRef({valueLabels:new Map});return t.useMemo(function(){var r=n.current.valueLabels,u=new Map,a=e.map(function(i){var l,o=i.value,c=(l=i.label)!==null&&l!==void 0?l:r.get(o);return u.set(o,c),(0,I.Z)((0,I.Z)({},i),{},{label:c})});return n.current.valueLabels=u,[a]},[e])};function Ln(e){var n=t.useRef();n.current=e;var r=t.useCallback(function(){return n.current.apply(n,arguments)},[]);return r}var Fn=f(501089),_n=function(e,n){return t.useMemo(function(){var r=(0,Fn.I8)(e,{fieldNames:n,initWrapper:function(a){return(0,I.Z)((0,I.Z)({},a),{},{valueEntities:new Map})},processEntity:function(a,i){var l=a.node[n.value];if(!1)var o;i.valueEntities.set(l,a)}});return r},[e,n])},Un=function(e,n,r,u){return t.useMemo(function(){var a=e.map(function(c){var s=c.value;return s}),i=n.map(function(c){var s=c.value;return s}),l=a.filter(function(c){return!u[c]});if(r){var o=(0,le.S)(a,!0,u);a=o.checkedKeys,i=o.halfCheckedKeys}return[Array.from(new Set([].concat((0,Z.Z)(l),(0,Z.Z)(a)))),i]},[e,n,r,u])},Bn=f(204942),jn=function(e,n,r){var u=r.treeNodeFilterProp,a=r.filterTreeNode,i=r.fieldNames,l=i.children;return t.useMemo(function(){if(!n||a===!1)return e;var o;if(typeof a=="function")o=a;else{var c=n.toUpperCase();o=function(M,T){var k=T[u];return String(k).toUpperCase().includes(c)}}function s(h){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return h.reduce(function(T,k){var V=k[l],P=M||o(n,G(k)),H=s(V||[],P);return(P||H.length)&&T.push((0,I.Z)((0,I.Z)({},k),{},(0,Bn.Z)({isLeaf:void 0},l,H))),T},[])}return s(e)},[e,n,l,u,a])};function ut(e){var n=e.searchPlaceholder,r=e.treeCheckStrictly,u=e.treeCheckable,a=e.labelInValue,i=e.value,l=e.multiple;warning(!n,"`searchPlaceholder` has been removed."),r&&a===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(a||r)&&warning(toArray(i).every(function(o){return o&&_typeof(o)==="object"&&"value"in o}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),r||l||u?warning(!i||Array.isArray(i),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(i),"`value` should not be array when `TreeSelect` is single mode.")}var ct=null,Gn=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"];function Jn(e){return!e||(0,hn.Z)(e)!=="object"}var Yn=t.forwardRef(function(e,n){var r=e.id,u=e.prefixCls,a=u===void 0?"rc-tree-select":u,i=e.value,l=e.defaultValue,o=e.onChange,c=e.onSelect,s=e.onDeselect,h=e.searchValue,M=e.inputValue,T=e.onSearch,k=e.autoClearSearchValue,V=k===void 0?!0:k,P=e.filterTreeNode,H=e.treeNodeFilterProp,J=H===void 0?"value":H,q=e.showCheckedStrategy,p=q===void 0?j:q,w=e.treeNodeLabelProp,A=e.multiple,be=e.treeCheckable,U=e.treeCheckStrictly,bn=e.labelInValue,_e=e.fieldNames,Ue=e.treeDataSimpleMode,Dn=e.treeData,xn=e.children,Be=e.loadData,je=e.treeLoadedKeys,Ge=e.onTreeLoad,Je=e.treeDefaultExpandAll,De=e.treeExpandedKeys,Ye=e.treeDefaultExpandedKeys,Qe=e.onTreeExpand,ze=e.treeExpandAction,ee=e.virtual,xe=e.listHeight,Xe=xe===void 0?200:xe,Ie=e.listItemHeight,qe=Ie===void 0?20:Ie,Te=e.onDropdownVisibleChange,Le=e.dropdownMatchSelectWidth,se=Le===void 0?!0:Le,en=e.treeLine,nn=e.treeIcon,Ke=e.showTreeIcon,Me=e.switcherIcon,Pe=e.treeMotion,tn=(0,B.Z)(e,Gn),In=(0,gn.ZP)(r),ne=be&&!U,Y=be||U,rn=U||bn,W=Y||A,we=(0,me.default)(l,{value:i}),an=(0,R.Z)(we,2),O=an[0],Ne=an[1],g=t.useMemo(function(){return pe(_e)},[JSON.stringify(_e)]),D=(0,me.default)("",{value:h!==void 0?h:M,postState:function(d){return d||""}}),te=(0,R.Z)(D,2),$=te[0],ln=te[1],on=function(d){ln(d),T==null||T(d)},ve=Wn(Dn,xn,Ue),un=_n(ve,g),N=un.keyEntities,re=un.valueEntities,Kn=t.useCallback(function(v){var d=[],m=[];return v.forEach(function(y){re.has(y)?m.push(y):d.push(y)}),{missingRawValues:d,existRawValues:m}},[re]),Mn=jn(ve,$,{fieldNames:g,treeNodeFilterProp:J,filterTreeNode:P}),Pn=t.useCallback(function(v){if(v){if(w)return v[w];for(var d=g._title,m=0;m<d.length;m+=1){var y=v[d[m]];if(y!==void 0)return y}}},[g,w]),Ze=t.useCallback(function(v){var d=yn(v);return d.map(function(m){return Jn(m)?{value:m}:m})},[]),cn=t.useCallback(function(v){var d=Ze(v);return d.map(function(m){var y=m.label,L=m.value,b=m.halfChecked,C,E=re.get(L);if(E){var x;y=(x=y)!==null&&x!==void 0?x:Pn(E.node),C=E.node.disabled}else if(y===void 0){var Q=Ze(O).find(function(Ve){return Ve.value===L});y=Q.label}return{label:y,value:L,halfChecked:b,disabled:C}})},[re,Pn,Ze,O]),wn=t.useMemo(function(){return Ze(O)},[Ze,O]),Xn=t.useMemo(function(){var v=[],d=[];return wn.forEach(function(m){m.halfChecked?d.push(m):v.push(m)}),[v,d]},[wn]),Nn=(0,R.Z)(Xn,2),fe=Nn[0],Zn=Nn[1],Vn=t.useMemo(function(){return fe.map(function(v){return v.value})},[fe]),qn=Un(fe,Zn,ne,N),An=(0,R.Z)(qn,2),he=An[0],dn=An[1],et=t.useMemo(function(){var v=Fe(he,p,N,g),d=v.map(function(b){var C,E,x;return(C=(E=N[b])===null||E===void 0||(x=E.node)===null||x===void 0?void 0:x[g.value])!==null&&C!==void 0?C:b}),m=d.map(function(b){var C=fe.find(function(E){return E.value===b});return{value:b,label:C==null?void 0:C.label}}),y=cn(m),L=y[0];return!W&&L&&$e(L.value)&&$e(L.label)?[]:y.map(function(b){var C;return(0,I.Z)((0,I.Z)({},b),{},{label:(C=b.label)!==null&&C!==void 0?C:b.value})})},[g,W,he,fe,cn,p,N]),nt=$n(et),tt=(0,R.Z)(nt,1),rt=tt[0],sn=Ln(function(v,d,m){var y=cn(v);if(Ne(y),V&&ln(""),o){var L=v;if(ne){var b=Fe(v,p,N,g);L=b.map(function(F){var z=re.get(F);return z?z.node[g.value]:F})}var C=d||{triggerValue:void 0,selected:void 0},E=C.triggerValue,x=C.selected,Q=L;if(U){var Ve=Zn.filter(function(F){return!L.includes(F.value)});Q=[].concat((0,Z.Z)(Q),(0,Z.Z)(Ve))}var Ae=cn(Q),ae={preValue:fe,triggerValue:E},ge=!0;(U||m==="selection"&&!x)&&(ge=!1),Rn(ae,E,v,ve,ge,g),Y?ae.checked=x:ae.selected=x;var vn=rn?Ae:Ae.map(function(F){return F.value});o(W?vn:vn[0],rn?null:Ae.map(function(F){return F.label}),ae)}}),Tn=t.useCallback(function(v,d){var m,y=d.selected,L=d.source,b=N[v],C=b==null?void 0:b.node,E=(m=C==null?void 0:C[g.value])!==null&&m!==void 0?m:v;if(!W)sn([E],{selected:!0,triggerValue:E},"option");else{var x=y?[].concat((0,Z.Z)(Vn),[E]):he.filter(function(z){return z!==E});if(ne){var Q=Kn(x),Ve=Q.missingRawValues,Ae=Q.existRawValues,ae=Ae.map(function(z){return re.get(z).key}),ge;if(y){var vn=(0,le.S)(ae,!0,N);ge=vn.checkedKeys}else{var F=(0,le.S)(ae,{checked:!1,halfCheckedKeys:dn},N);ge=F.checkedKeys}x=[].concat((0,Z.Z)(Ve),(0,Z.Z)(ge.map(function(z){return N[z].node[g.value]})))}sn(x,{selected:y,triggerValue:E},L||"option")}y||!W?c==null||c(E,G(C)):s==null||s(E,G(C))},[Kn,re,N,g,W,Vn,sn,ne,c,s,he,dn]),at=t.useCallback(function(v){if(Te){var d={};Object.defineProperty(d,"documentClickClose",{get:function(){return(0,ce.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Te(v,d)}},[Te]),lt=Ln(function(v,d){var m=v.map(function(y){return y.value});if(d.type==="clear"){sn(m,{},"selection");return}d.values.length&&Tn(d.values[0].value,{selected:!1,source:"selection"})}),it=t.useMemo(function(){return{virtual:ee,dropdownMatchSelectWidth:se,listHeight:Xe,listItemHeight:qe,treeData:Mn,fieldNames:g,onSelect:Tn,treeExpandAction:ze}},[ee,se,Xe,qe,Mn,g,Tn,ze]),ot=t.useMemo(function(){return{checkable:Y,loadData:Be,treeLoadedKeys:je,onTreeLoad:Ge,checkedKeys:he,halfCheckedKeys:dn,treeDefaultExpandAll:Je,treeExpandedKeys:De,treeDefaultExpandedKeys:Ye,onTreeExpand:Qe,treeIcon:nn,treeMotion:Pe,showTreeIcon:Ke,switcherIcon:Me,treeLine:en,treeNodeFilterProp:J,keyEntities:N}},[Y,Be,je,Ge,he,dn,Je,De,Ye,Qe,nn,Pe,Ke,Me,en,J,N]);return t.createElement(We.Provider,{value:it},t.createElement(_.Provider,{value:ot},t.createElement(Re.Ac,(0,Oe.Z)({ref:n},tn,{id:In,prefixCls:a,mode:W?"multiple":void 0,displayValues:rt,onDisplayValuesChange:lt,searchValue:$,onSearch:on,OptionList:En,emptyOptions:!ve.length,onDropdownVisibleChange:at,dropdownMatchSelectWidth:se}))))}),ke=Yn;ke.TreeNode=ue,ke.SHOW_ALL=X,ke.SHOW_PARENT=Se,ke.SHOW_CHILD=j;var Qn=ke,zn=Qn}}]);
